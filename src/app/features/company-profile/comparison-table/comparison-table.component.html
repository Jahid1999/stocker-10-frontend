<div>
  <div class="mt-3" *ngIf="!mainData">
    <div class="wrapper">
      <div class="inner">
        <mat-spinner></mat-spinner>
      </div>
    </div>
  </div>
  <div class="mt-3" *ngIf="mainData">
    <table class="table table-striped table-hover table-bordered">
      <tr>
        <th scope="col" class="head-row">Company Name</th>
        <th scope="col" class="data-row">SMA</th>
        <th scope="col" class="data-row">MACD</th>
        <th scope="col" class="data-row">ADM</th>
        <th scope="col" class="data-row">RSI</th>
        <th scope="col" class="data-row">STOC</th>
        <th scope="col" class="data-row">OBV</th>
        <th scope="col" class="data-row">BB</th>
      </tr>
      <tr *ngFor="let row of mainData">
        <td *ngFor="let col of row" scope="col" class="data-row">
          {{ col.value }}
        </td>
      </tr>
      <tr>
        <td
          colspan="8"
          style="text-align: center"
          (click)="addClicked()"
          *ngIf="!load"
        >
          <span
            class="add"
            data-bs-toggle="modal"
            data-bs-target="#exampleModal"
            >+</span
          >
        </td>
        <td colspan="8" style="align-items: center" *ngIf="load">
          <div class="mini-wrapper">
            <div class="inner">
              <mat-spinner [diameter]="20"></mat-spinner>
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>

<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <label
          class="modal-title"
          id="exampleModalLabel"
          style="font-family: 'karla'"
          ><b>Add Company For Comparision</b></label
        >
        <span
          aria-hidden="true"
          class="close add"
          data-bs-dismiss="modal"
          aria-label="Close"
          >&times;</span
        >
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col col-lg-12 col-xl-12">
            <form class="example-form">
              <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Search Company</mat-label>
                <input
                  type="email"
                  matInput
                  [(ngModel)]="search"
                  name="search"
                  placeholder="Enter Key word for Search"
                  (input)="searchCompany()"
                />
                <button
                  matSuffix
                  mat-icon-button
                  aria-label="Clear"
                  (click)="searchCompany()"
                >
                  <mat-icon>search</mat-icon>
                </button>
              </mat-form-field>
              <div *ngIf="modalData">
                <table class="table table-striped table-hover table-bordered">
                  <tr>
                    <th scope="col" class="head-row">Company Name</th>
                    <th scope="col" class="data-row">Action</th>
                  </tr>
                  <tr *ngFor="let data of searchedItems">
                    <td scope="col" class="head-row">{{ data.Full_name }}</td>
                    <td style="text-align: center" (click)="addCompany(data)">
                      <span
                        class="add"
                        aria-hidden="true"
                        class="close add"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                        >+</span
                      >
                    </td>
                  </tr>
                </table>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
